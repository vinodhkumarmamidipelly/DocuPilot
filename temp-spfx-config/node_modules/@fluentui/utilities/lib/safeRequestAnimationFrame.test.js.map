{"version":3,"file":"safeRequestAnimationFrame.test.js","sourceRoot":"../src/","sources":["safeRequestAnimationFrame.test.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,yBAAyB,EAAE,MAAM,6BAA6B,CAAC;AACxE,OAAO,EAAE,MAAM,EAAE,MAAM,wBAAwB,CAAC;AAIhD,QAAQ,CAAC,2BAA2B,EAAE;IACpC,IAAI,SAAS,GAAG,KAAK,CAAC;IAEtB;QAAkB,uBAAe;QAG/B,aAAY,KAAS;YACnB,YAAA,MAAK,YAAC,KAAK,CAAC,SAAC;YAHP,UAAI,GAAG,yBAAyB,CAAC,KAAI,CAAC,CAAC;;QAI/C,CAAC;QAEM,oBAAM,GAAb;YACE,OAAO,yCAAgB,CAAC;QAC1B,CAAC;QAEM,+BAAiB,GAAxB;YACE,IAAI,CAAC,IAAI,CAAC,cAAM,OAAA,CAAC,SAAS,GAAG,IAAI,CAAC,EAAlB,CAAkB,CAAC,CAAC;QACtC,CAAC;QACH,UAAC;IAAD,CAAC,AAdD,CAAkB,KAAK,CAAC,SAAS,GAchC;IAED,UAAU,CAAC;QACT,SAAS,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,SAAS,CAAC;QACR,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6BAA6B,EAAE;QAChC,IAAM,SAAS,GAAG,MAAM,CAAC,oBAAC,GAAG,OAAG,CAAC,CAAC;QAElC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAEjC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAChC,SAAS,CAAC,OAAO,EAAE,CAAC;IACtB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oCAAoC,EAAE;QACvC,IAAM,SAAS,GAAG,MAAM,CAAC,oBAAC,GAAG,OAAG,CAAC,CAAC;QAElC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAEjC,SAAS,CAAC,OAAO,EAAE,CAAC;QAEpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport { safeRequestAnimationFrame } from './safeRequestAnimationFrame';\nimport { render } from '@testing-library/react';\n\nimport type { JSXElement } from './jsx';\n\ndescribe('safeRequestAnimationFrame', () => {\n  let rafCalled = false;\n\n  class Foo extends React.Component {\n    private _raf = safeRequestAnimationFrame(this);\n\n    constructor(props: {}) {\n      super(props);\n    }\n\n    public render(): JSXElement {\n      return <div>Hello</div>;\n    }\n\n    public componentDidMount(): void {\n      this._raf(() => (rafCalled = true));\n    }\n  }\n\n  beforeEach(() => {\n    rafCalled = false;\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('can request animation frame', () => {\n    const component = render(<Foo />);\n\n    expect(rafCalled).toEqual(false);\n\n    jest.runOnlyPendingTimers();\n\n    expect(rafCalled).toEqual(true);\n    component.unmount();\n  });\n\n  it('can cancel request animation frame', () => {\n    const component = render(<Foo />);\n\n    expect(rafCalled).toEqual(false);\n\n    component.unmount();\n\n    jest.runOnlyPendingTimers();\n\n    expect(rafCalled).toEqual(false);\n  });\n});\n"]}